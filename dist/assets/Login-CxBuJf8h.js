var ot=e=>{throw TypeError(e)};var Be=(e,t,r)=>t.has(e)||ot("Cannot "+r);var S=(e,t,r)=>(Be(e,t,"read from private field"),r?r.call(e):t.get(e)),he=(e,t,r)=>t.has(e)?ot("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ye=(e,t,r,a)=>(Be(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),ge=(e,t,r)=>(Be(e,t,"access private method"),r);import{S as Pt,s as Bt,h as lt,g as Nt,n as _t,u as Ft,r as $,a as Wt,b as qt,c as Kt,j as v,R as q,d as zt,e as Ht,B as Te,T as Fe,C as wt,L as $t,l as Qt}from"./index-DbvNdllW.js";import{C as Yt}from"./CardContent-DpO8IoKg.js";import{T as Ke}from"./TextField-CsoWppMA.js";import{F as Jt,C as Xt}from"./FormControlLabel-BtOoiiGH.js";import{B as we,A as Zt}from"./AccountCircle-BqrC-WHa.js";import{D as Gt,a as er,b as tr}from"./DialogContent-Zf1qvqUe.js";import{D as rr}from"./DialogTitle-BT1E2PJj.js";import{S as ut}from"./Stack-D3HsYBR0.js";import{C as sr}from"./Card-DQiV8G8E.js";import"./Select-1bWPsc-P.js";import"./useFormControl-DDGvswHg.js";import"./InputLabel-BJ-Hgfal.js";import"./isMuiElement-qTM6GdlR.js";import"./SwitchBase-Cr_0Qc_S.js";import"./styled-Cs-gJYMi.js";var ae,ne,M,ee,te,De,ze,pt,ir=(pt=class extends Pt{constructor(t,r){super();he(this,te);he(this,ae);he(this,ne);he(this,M);he(this,ee);ye(this,ae,t),this.setOptions(r),this.bindMethods(),ge(this,te,De).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var a;const r=this.options;this.options=S(this,ae).defaultMutationOptions(t),Bt(this.options,r)||S(this,ae).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,M),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&lt(r.mutationKey)!==lt(this.options.mutationKey)?this.reset():((a=S(this,M))==null?void 0:a.state.status)==="pending"&&S(this,M).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=S(this,M))==null||t.removeObserver(this)}onMutationUpdate(t){ge(this,te,De).call(this),ge(this,te,ze).call(this,t)}getCurrentResult(){return S(this,ne)}reset(){var t;(t=S(this,M))==null||t.removeObserver(this),ye(this,M,void 0),ge(this,te,De).call(this),ge(this,te,ze).call(this)}mutate(t,r){var a;return ye(this,ee,r),(a=S(this,M))==null||a.removeObserver(this),ye(this,M,S(this,ae).getMutationCache().build(S(this,ae),this.options)),S(this,M).addObserver(this),S(this,M).execute(t)}},ae=new WeakMap,ne=new WeakMap,M=new WeakMap,ee=new WeakMap,te=new WeakSet,De=function(){var r;const t=((r=S(this,M))==null?void 0:r.state)??Nt();ye(this,ne,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},ze=function(t){_t.batch(()=>{var r,a,l,o,d,y,V,j;if(S(this,ee)&&this.hasListeners()){const p=S(this,ne).variables,b=S(this,ne).context;(t==null?void 0:t.type)==="success"?((a=(r=S(this,ee)).onSuccess)==null||a.call(r,t.data,p,b),(o=(l=S(this,ee)).onSettled)==null||o.call(l,t.data,null,p,b)):(t==null?void 0:t.type)==="error"&&((y=(d=S(this,ee)).onError)==null||y.call(d,t.error,p,b),(j=(V=S(this,ee)).onSettled)==null||j.call(V,void 0,t.error,p,b))}this.listeners.forEach(p=>{p(S(this,ne))})})},pt);function ar(e,t){const r=Ft(),[a]=$.useState(()=>new ir(r,e));$.useEffect(()=>{a.setOptions(e)},[a,e]);const l=$.useSyncExternalStore($.useCallback(d=>a.subscribe(_t.batchCalls(d)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),o=$.useCallback((d,y)=>{a.mutate(d,y).catch(Wt)},[a]);if(l.error&&qt(a.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:o,mutateAsync:l.mutate}}const nr=Kt(v.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");var Se=e=>e.type==="checkbox",ue=e=>e instanceof Date,R=e=>e==null;const At=e=>typeof e=="object";var k=e=>!R(e)&&!Array.isArray(e)&&At(e)&&!ue(e),or=e=>k(e)&&e.target?Se(e.target)?e.target.checked:e.target.value:e,lr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ur=(e,t)=>e.has(lr(t)),cr=e=>{const t=e.constructor&&e.constructor.prototype;return k(t)&&t.hasOwnProperty("isPrototypeOf")},$e=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function W(e){let t;const r=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!($e&&(e instanceof Blob||a))&&(r||k(e)))if(t=r?[]:{},!r&&!cr(e))t=e;else for(const l in e)e.hasOwnProperty(l)&&(t[l]=W(e[l]));else return e;return t}var Ie=e=>Array.isArray(e)?e.filter(Boolean):[],D=e=>e===void 0,h=(e,t,r)=>{if(!t||!k(e))return r;const a=Ie(t.split(/[,[\].]+?/)).reduce((l,o)=>R(l)?l:l[o],e);return D(a)||a===e?D(e[t])?r:e[t]:a},H=e=>typeof e=="boolean",Qe=e=>/^\w*$/.test(e),St=e=>Ie(e.replace(/["|']|\]/g,"").split(/\.|\[/)),w=(e,t,r)=>{let a=-1;const l=Qe(t)?[t]:St(t),o=l.length,d=o-1;for(;++a<o;){const y=l[a];let V=r;if(a!==d){const j=e[y];V=k(j)||Array.isArray(j)?j:isNaN(+l[a+1])?{}:[]}if(y==="__proto__"||y==="constructor"||y==="prototype")return;e[y]=V,e=e[y]}return e};const ct={BLUR:"blur",FOCUS_OUT:"focusout"},z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},G={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};q.createContext(null);var dr=(e,t,r,a=!0)=>{const l={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(l,o,{get:()=>{const d=o;return t._proxyFormState[d]!==z.all&&(t._proxyFormState[d]=!a||z.all),e[d]}});return l},U=e=>k(e)&&!Object.keys(e).length,fr=(e,t,r,a)=>{r(e);const{name:l,...o}=e;return U(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(d=>t[d]===z.all)},Ee=e=>Array.isArray(e)?e:[e];function hr(e){const t=q.useRef(e);t.current=e,q.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var Y=e=>typeof e=="string",yr=(e,t,r,a,l)=>Y(e)?(a&&t.watch.add(e),h(r,e,l)):Array.isArray(e)?e.map(o=>(a&&t.watch.add(o),h(r,o))):(a&&(t.watchAll=!0),r),gr=(e,t,r,a,l)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:l||!0}}:{},dt=e=>({isOnSubmit:!e||e===z.onSubmit,isOnBlur:e===z.onBlur,isOnChange:e===z.onChange,isOnAll:e===z.all,isOnTouch:e===z.onTouched}),ft=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Ae=(e,t,r,a)=>{for(const l of r||Object.keys(e)){const o=h(e,l);if(o){const{_f:d,...y}=o;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],l)&&!a)return!0;if(d.ref&&t(d.ref,d.name)&&!a)return!0;if(Ae(y,t))break}else if(k(y)&&Ae(y,t))break}}};var br=(e,t,r)=>{const a=Ee(h(e,r));return w(a,"root",t[r]),w(e,r,a),e},Ye=e=>e.type==="file",Q=e=>typeof e=="function",Le=e=>{if(!$e)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ce=e=>Y(e),Je=e=>e.type==="radio",Oe=e=>e instanceof RegExp;const ht={value:!1,isValid:!1},yt={value:!0,isValid:!0};var Vt=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!D(e[0].attributes.value)?D(e[0].value)||e[0].value===""?yt:{value:e[0].value,isValid:!0}:yt:ht}return ht};const gt={isValid:!1,value:null};var kt=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,gt):gt;function bt(e,t,r="validate"){if(Ce(e)||Array.isArray(e)&&e.every(Ce)||H(e)&&!e)return{type:r,message:Ce(e)?e:"",ref:t}}var be=e=>k(e)&&!Oe(e)?e:{value:e,message:""},mt=async(e,t,r,a,l,o)=>{const{ref:d,refs:y,required:V,maxLength:j,minLength:p,min:b,max:ce,pattern:oe,validate:P,name:A,valueAsNumber:J,mount:re}=e._f,_=h(r,A);if(!re||t.has(A))return{};const X=y?y[0]:d,Z=x=>{l&&X.reportValidity&&(X.setCustomValidity(H(x)?"":x||""),X.reportValidity())},E={},de=Je(d),Ve=Se(d),le=de||Ve,fe=(J||Ye(d))&&D(d.value)&&D(_)||Le(d)&&d.value===""||_===""||Array.isArray(_)&&!_.length,B=gr.bind(null,A,a,E),ke=(x,F,C,I=G.maxLength,K=G.minLength)=>{const N=x?F:C;E[A]={type:x?I:K,message:N,ref:d,...B(x?I:K,N)}};if(o?!Array.isArray(_)||!_.length:V&&(!le&&(fe||R(_))||H(_)&&!_||Ve&&!Vt(y).isValid||de&&!kt(y).isValid)){const{value:x,message:F}=Ce(V)?{value:!!V,message:V}:be(V);if(x&&(E[A]={type:G.required,message:F,ref:X,...B(G.required,F)},!a))return Z(F),E}if(!fe&&(!R(b)||!R(ce))){let x,F;const C=be(ce),I=be(b);if(!R(_)&&!isNaN(_)){const K=d.valueAsNumber||_&&+_;R(C.value)||(x=K>C.value),R(I.value)||(F=K<I.value)}else{const K=d.valueAsDate||new Date(_),N=xe=>new Date(new Date().toDateString()+" "+xe),me=d.type=="time",ve=d.type=="week";Y(C.value)&&_&&(x=me?N(_)>N(C.value):ve?_>C.value:K>new Date(C.value)),Y(I.value)&&_&&(F=me?N(_)<N(I.value):ve?_<I.value:K<new Date(I.value))}if((x||F)&&(ke(!!x,C.message,I.message,G.max,G.min),!a))return Z(E[A].message),E}if((j||p)&&!fe&&(Y(_)||o&&Array.isArray(_))){const x=be(j),F=be(p),C=!R(x.value)&&_.length>+x.value,I=!R(F.value)&&_.length<+F.value;if((C||I)&&(ke(C,x.message,F.message),!a))return Z(E[A].message),E}if(oe&&!fe&&Y(_)){const{value:x,message:F}=be(oe);if(Oe(x)&&!_.match(x)&&(E[A]={type:G.pattern,message:F,ref:d,...B(G.pattern,F)},!a))return Z(F),E}if(P){if(Q(P)){const x=await P(_,r),F=bt(x,X);if(F&&(E[A]={...F,...B(G.validate,F.message)},!a))return Z(F.message),E}else if(k(P)){let x={};for(const F in P){if(!U(x)&&!a)break;const C=bt(await P[F](_,r),X,F);C&&(x={...C,...B(F,C.message)},Z(C.message),a&&(E[A]=x))}if(!U(x)&&(E[A]={ref:X,...x},!a))return E}}return Z(!0),E};function mr(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=D(e)?a++:e[t[a++]];return e}function vr(e){for(const t in e)if(e.hasOwnProperty(t)&&!D(e[t]))return!1;return!0}function T(e,t){const r=Array.isArray(t)?t:Qe(t)?[t]:St(t),a=r.length===1?e:mr(e,r),l=r.length-1,o=r[l];return a&&delete a[o],l!==0&&(k(a)&&U(a)||Array.isArray(a)&&vr(a))&&T(e,r.slice(0,-1)),e}var Ne=()=>{let e=[];return{get observers(){return e},next:l=>{for(const o of e)o.next&&o.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(o=>o!==l)}}),unsubscribe:()=>{e=[]}}},He=e=>R(e)||!At(e);function ie(e,t){if(He(e)||He(t))return e===t;if(ue(e)&&ue(t))return e.getTime()===t.getTime();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(const l of r){const o=e[l];if(!a.includes(l))return!1;if(l!=="ref"){const d=t[l];if(ue(o)&&ue(d)||k(o)&&k(d)||Array.isArray(o)&&Array.isArray(d)?!ie(o,d):o!==d)return!1}}return!0}var Dt=e=>e.type==="select-multiple",xr=e=>Je(e)||Se(e),We=e=>Le(e)&&e.isConnected,Et=e=>{for(const t in e)if(Q(e[t]))return!0;return!1};function je(e,t={}){const r=Array.isArray(e);if(k(e)||r)for(const a in e)Array.isArray(e[a])||k(e[a])&&!Et(e[a])?(t[a]=Array.isArray(e[a])?[]:{},je(e[a],t[a])):R(e[a])||(t[a]=!0);return t}function Ct(e,t,r){const a=Array.isArray(e);if(k(e)||a)for(const l in e)Array.isArray(e[l])||k(e[l])&&!Et(e[l])?D(t)||He(r[l])?r[l]=Array.isArray(e[l])?je(e[l],[]):{...je(e[l])}:Ct(e[l],R(t)?{}:t[l],r[l]):r[l]=!ie(e[l],t[l]);return r}var pe=(e,t)=>Ct(e,t,je(t)),Tt=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>D(e)?e:t?e===""?NaN:e&&+e:r&&Y(e)?new Date(e):a?a(e):e;function qe(e){const t=e.ref;return Ye(t)?t.files:Je(t)?kt(e.refs).value:Dt(t)?[...t.selectedOptions].map(({value:r})=>r):Se(t)?Vt(e.refs).value:Tt(D(t.value)?e.ref.value:t.value,e)}var pr=(e,t,r,a)=>{const l={};for(const o of e){const d=h(t,o);d&&w(l,o,d._f)}return{criteriaMode:r,names:[...e],fields:l,shouldUseNativeValidation:a}},_e=e=>D(e)?e:Oe(e)?e.source:k(e)?Oe(e.value)?e.value.source:e.value:e;const vt="AsyncFunction";var _r=e=>!!e&&!!e.validate&&!!(Q(e.validate)&&e.validate.constructor.name===vt||k(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===vt)),Fr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function xt(e,t,r){const a=h(e,r);if(a||Qe(r))return{error:a,name:r};const l=r.split(".");for(;l.length;){const o=l.join("."),d=h(t,o),y=h(e,o);if(d&&!Array.isArray(d)&&r!==o)return{name:r};if(y&&y.type)return{name:o,error:y};l.pop()}return{name:r}}var wr=(e,t,r,a,l)=>l.isOnAll?!1:!r&&l.isOnTouch?!(t||e):(r?a.isOnBlur:l.isOnBlur)?!e:(r?a.isOnChange:l.isOnChange)?e:!0,Ar=(e,t)=>!Ie(h(e,t)).length&&T(e,t);const Sr={mode:z.onSubmit,reValidateMode:z.onChange,shouldFocusError:!0};function Vr(e={}){let t={...Sr,...e},r={submitCount:0,isDirty:!1,isLoading:Q(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},a={},l=k(t.defaultValues)||k(t.values)?W(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:W(l),d={action:!1,mount:!1,watch:!1},y={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},V,j=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:Ne(),array:Ne(),state:Ne()},ce=dt(t.mode),oe=dt(t.reValidateMode),P=t.criteriaMode===z.all,A=s=>i=>{clearTimeout(j),j=setTimeout(s,i)},J=async s=>{if(!t.disabled&&(p.isValid||s)){const i=t.resolver?U((await le()).errors):await B(a,!0);i!==r.isValid&&b.state.next({isValid:i})}},re=(s,i)=>{!t.disabled&&(p.isValidating||p.validatingFields)&&((s||Array.from(y.mount)).forEach(n=>{n&&(i?w(r.validatingFields,n,i):T(r.validatingFields,n))}),b.state.next({validatingFields:r.validatingFields,isValidating:!U(r.validatingFields)}))},_=(s,i=[],n,f,c=!0,u=!0)=>{if(f&&n&&!t.disabled){if(d.action=!0,u&&Array.isArray(h(a,s))){const g=n(h(a,s),f.argA,f.argB);c&&w(a,s,g)}if(u&&Array.isArray(h(r.errors,s))){const g=n(h(r.errors,s),f.argA,f.argB);c&&w(r.errors,s,g),Ar(r.errors,s)}if(p.touchedFields&&u&&Array.isArray(h(r.touchedFields,s))){const g=n(h(r.touchedFields,s),f.argA,f.argB);c&&w(r.touchedFields,s,g)}p.dirtyFields&&(r.dirtyFields=pe(l,o)),b.state.next({name:s,isDirty:x(s,i),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else w(o,s,i)},X=(s,i)=>{w(r.errors,s,i),b.state.next({errors:r.errors})},Z=s=>{r.errors=s,b.state.next({errors:r.errors,isValid:!1})},E=(s,i,n,f)=>{const c=h(a,s);if(c){const u=h(o,s,D(n)?h(l,s):n);D(u)||f&&f.defaultChecked||i?w(o,s,i?u:qe(c._f)):I(s,u),d.mount&&J()}},de=(s,i,n,f,c)=>{let u=!1,g=!1;const m={name:s};if(!t.disabled){const L=!!(h(a,s)&&h(a,s)._f&&h(a,s)._f.disabled);if(!n||f){p.isDirty&&(g=r.isDirty,r.isDirty=m.isDirty=x(),u=g!==m.isDirty);const O=L||ie(h(l,s),i);g=!!(!L&&h(r.dirtyFields,s)),O||L?T(r.dirtyFields,s):w(r.dirtyFields,s,!0),m.dirtyFields=r.dirtyFields,u=u||p.dirtyFields&&g!==!O}if(n){const O=h(r.touchedFields,s);O||(w(r.touchedFields,s,n),m.touchedFields=r.touchedFields,u=u||p.touchedFields&&O!==n)}u&&c&&b.state.next(m)}return u?m:{}},Ve=(s,i,n,f)=>{const c=h(r.errors,s),u=p.isValid&&H(i)&&r.isValid!==i;if(t.delayError&&n?(V=A(()=>X(s,n)),V(t.delayError)):(clearTimeout(j),V=null,n?w(r.errors,s,n):T(r.errors,s)),(n?!ie(c,n):c)||!U(f)||u){const g={...f,...u&&H(i)?{isValid:i}:{},errors:r.errors,name:s};r={...r,...g},b.state.next(g)}},le=async s=>{re(s,!0);const i=await t.resolver(o,t.context,pr(s||y.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return re(s),i},fe=async s=>{const{errors:i}=await le(s);if(s)for(const n of s){const f=h(i,n);f?w(r.errors,n,f):T(r.errors,n)}else r.errors=i;return i},B=async(s,i,n={valid:!0})=>{for(const f in s){const c=s[f];if(c){const{_f:u,...g}=c;if(u){const m=y.array.has(u.name),L=c._f&&_r(c._f);L&&p.validatingFields&&re([f],!0);const O=await mt(c,y.disabled,o,P,t.shouldUseNativeValidation&&!i,m);if(L&&p.validatingFields&&re([f]),O[u.name]&&(n.valid=!1,i))break;!i&&(h(O,u.name)?m?br(r.errors,O,u.name):w(r.errors,u.name,O[u.name]):T(r.errors,u.name))}!U(g)&&await B(g,i,n)}}return n.valid},ke=()=>{for(const s of y.unMount){const i=h(a,s);i&&(i._f.refs?i._f.refs.every(n=>!We(n)):!We(i._f.ref))&&Re(s)}y.unMount=new Set},x=(s,i)=>!t.disabled&&(s&&i&&w(o,s,i),!ie(Xe(),l)),F=(s,i,n)=>yr(s,y,{...d.mount?o:D(i)?l:Y(s)?{[s]:i}:i},n,i),C=s=>Ie(h(d.mount?o:l,s,t.shouldUnregister?h(l,s,[]):[])),I=(s,i,n={})=>{const f=h(a,s);let c=i;if(f){const u=f._f;u&&(!u.disabled&&w(o,s,Tt(i,u)),c=Le(u.ref)&&R(i)?"":i,Dt(u.ref)?[...u.ref.options].forEach(g=>g.selected=c.includes(g.value)):u.refs?Se(u.ref)?u.refs.length>1?u.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(c)?!!c.find(m=>m===g.value):c===g.value)):u.refs[0]&&(u.refs[0].checked=!!c):u.refs.forEach(g=>g.checked=g.value===c):Ye(u.ref)?u.ref.value="":(u.ref.value=c,u.ref.type||b.values.next({name:s,values:{...o}})))}(n.shouldDirty||n.shouldTouch)&&de(s,c,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&xe(s)},K=(s,i,n)=>{for(const f in i){const c=i[f],u=`${s}.${f}`,g=h(a,u);(y.array.has(s)||k(c)||g&&!g._f)&&!ue(c)?K(u,c,n):I(u,c,n)}},N=(s,i,n={})=>{const f=h(a,s),c=y.array.has(s),u=W(i);w(o,s,u),c?(b.array.next({name:s,values:{...o}}),(p.isDirty||p.dirtyFields)&&n.shouldDirty&&b.state.next({name:s,dirtyFields:pe(l,o),isDirty:x(s,u)})):f&&!f._f&&!R(u)?K(s,u,n):I(s,u,n),ft(s,y)&&b.state.next({...r}),b.values.next({name:d.mount?s:void 0,values:{...o}})},me=async s=>{d.mount=!0;const i=s.target;let n=i.name,f=!0;const c=h(a,n),u=()=>i.type?qe(c._f):or(s),g=m=>{f=Number.isNaN(m)||ue(m)&&isNaN(m.getTime())||ie(m,h(o,n,m))};if(c){let m,L;const O=u(),se=s.type===ct.BLUR||s.type===ct.FOCUS_OUT,Rt=!Fr(c._f)&&!t.resolver&&!h(r.errors,n)&&!c._f.deps||wr(se,h(r.touchedFields,n),r.isSubmitted,oe,ce),Ue=ft(n,y,se);w(o,n,O),se?(c._f.onBlur&&c._f.onBlur(s),V&&V(0)):c._f.onChange&&c._f.onChange(s);const Pe=de(n,O,se,!1),Mt=!U(Pe)||Ue;if(!se&&b.values.next({name:n,type:s.type,values:{...o}}),Rt)return p.isValid&&(t.mode==="onBlur"&&se?J():se||J()),Mt&&b.state.next({name:n,...Ue?{}:Pe});if(!se&&Ue&&b.state.next({...r}),t.resolver){const{errors:at}=await le([n]);if(g(O),f){const Ut=xt(r.errors,a,n),nt=xt(at,a,Ut.name||n);m=nt.error,n=nt.name,L=U(at)}}else re([n],!0),m=(await mt(c,y.disabled,o,P,t.shouldUseNativeValidation))[n],re([n]),g(O),f&&(m?L=!1:p.isValid&&(L=await B(a,!0)));f&&(c._f.deps&&xe(c._f.deps),Ve(n,L,m,Pe))}},ve=(s,i)=>{if(h(r.errors,i)&&s.focus)return s.focus(),1},xe=async(s,i={})=>{let n,f;const c=Ee(s);if(t.resolver){const u=await fe(D(s)?s:c);n=U(u),f=s?!c.some(g=>h(u,g)):n}else s?(f=(await Promise.all(c.map(async u=>{const g=h(a,u);return await B(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!f&&!r.isValid)&&J()):f=n=await B(a);return b.state.next({...!Y(s)||p.isValid&&n!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:n}:{},errors:r.errors}),i.shouldFocus&&!f&&Ae(a,ve,s?c:y.mount),f},Xe=s=>{const i={...d.mount?o:l};return D(s)?i:Y(s)?h(i,s):s.map(n=>h(i,n))},Ze=(s,i)=>({invalid:!!h((i||r).errors,s),isDirty:!!h((i||r).dirtyFields,s),error:h((i||r).errors,s),isValidating:!!h(r.validatingFields,s),isTouched:!!h((i||r).touchedFields,s)}),Lt=s=>{s&&Ee(s).forEach(i=>T(r.errors,i)),b.state.next({errors:s?r.errors:{}})},Ge=(s,i,n)=>{const f=(h(a,s,{_f:{}})._f||{}).ref,c=h(r.errors,s)||{},{ref:u,message:g,type:m,...L}=c;w(r.errors,s,{...L,...i,ref:f}),b.state.next({name:s,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&f&&f.focus&&f.focus()},Ot=(s,i)=>Q(s)?b.values.subscribe({next:n=>s(F(void 0,i),n)}):F(s,i,!0),Re=(s,i={})=>{for(const n of s?Ee(s):y.mount)y.mount.delete(n),y.array.delete(n),i.keepValue||(T(a,n),T(o,n)),!i.keepError&&T(r.errors,n),!i.keepDirty&&T(r.dirtyFields,n),!i.keepTouched&&T(r.touchedFields,n),!i.keepIsValidating&&T(r.validatingFields,n),!t.shouldUnregister&&!i.keepDefaultValue&&T(l,n);b.values.next({values:{...o}}),b.state.next({...r,...i.keepDirty?{isDirty:x()}:{}}),!i.keepIsValid&&J()},et=({disabled:s,name:i,field:n,fields:f})=>{(H(s)&&d.mount||s||y.disabled.has(i))&&(s?y.disabled.add(i):y.disabled.delete(i),de(i,qe(n?n._f:h(f,i)._f),!1,!1,!0))},Me=(s,i={})=>{let n=h(a,s);const f=H(i.disabled)||H(t.disabled);return w(a,s,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:s}},name:s,mount:!0,...i}}),y.mount.add(s),n?et({field:n,disabled:H(i.disabled)?i.disabled:t.disabled,name:s}):E(s,!0,i.value),{...f?{disabled:i.disabled||t.disabled}:{},...t.progressive?{required:!!i.required,min:_e(i.min),max:_e(i.max),minLength:_e(i.minLength),maxLength:_e(i.maxLength),pattern:_e(i.pattern)}:{},name:s,onChange:me,onBlur:me,ref:c=>{if(c){Me(s,i),n=h(a,s);const u=D(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=xr(u),m=n._f.refs||[];if(g?m.find(L=>L===u):u===n._f.ref)return;w(a,s,{_f:{...n._f,...g?{refs:[...m.filter(We),u,...Array.isArray(h(l,s))?[{}]:[]],ref:{type:u.type,name:s}}:{ref:u}}}),E(s,!1,void 0,u)}else n=h(a,s,{}),n._f&&(n._f.mount=!1),(t.shouldUnregister||i.shouldUnregister)&&!(ur(y.array,s)&&d.action)&&y.unMount.add(s)}}},tt=()=>t.shouldFocusError&&Ae(a,ve,y.mount),jt=s=>{H(s)&&(b.state.next({disabled:s}),Ae(a,(i,n)=>{const f=h(a,n);f&&(i.disabled=f._f.disabled||s,Array.isArray(f._f.refs)&&f._f.refs.forEach(c=>{c.disabled=f._f.disabled||s}))},0,!1))},rt=(s,i)=>async n=>{let f;n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let c=W(o);if(y.disabled.size)for(const u of y.disabled)w(c,u,void 0);if(b.state.next({isSubmitting:!0}),t.resolver){const{errors:u,values:g}=await le();r.errors=u,c=g}else await B(a);if(T(r.errors,"root"),U(r.errors)){b.state.next({errors:{}});try{await s(c,n)}catch(u){f=u}}else i&&await i({...r.errors},n),tt(),setTimeout(tt);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(r.errors)&&!f,submitCount:r.submitCount+1,errors:r.errors}),f)throw f},It=(s,i={})=>{h(a,s)&&(D(i.defaultValue)?N(s,W(h(l,s))):(N(s,i.defaultValue),w(l,s,W(i.defaultValue))),i.keepTouched||T(r.touchedFields,s),i.keepDirty||(T(r.dirtyFields,s),r.isDirty=i.defaultValue?x(s,W(h(l,s))):x()),i.keepError||(T(r.errors,s),p.isValid&&J()),b.state.next({...r}))},st=(s,i={})=>{const n=s?W(s):l,f=W(n),c=U(s),u=c?l:f;if(i.keepDefaultValues||(l=n),!i.keepValues){if(i.keepDirtyValues){const g=new Set([...y.mount,...Object.keys(pe(l,o))]);for(const m of Array.from(g))h(r.dirtyFields,m)?w(u,m,h(o,m)):N(m,h(u,m))}else{if($e&&D(s))for(const g of y.mount){const m=h(a,g);if(m&&m._f){const L=Array.isArray(m._f.refs)?m._f.refs[0]:m._f.ref;if(Le(L)){const O=L.closest("form");if(O){O.reset();break}}}}a={}}o=t.shouldUnregister?i.keepDefaultValues?W(l):{}:W(u),b.array.next({values:{...u}}),b.values.next({values:{...u}})}y={mount:i.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!p.isValid||!!i.keepIsValid||!!i.keepDirtyValues,d.watch=!!t.shouldUnregister,b.state.next({submitCount:i.keepSubmitCount?r.submitCount:0,isDirty:c?!1:i.keepDirty?r.isDirty:!!(i.keepDefaultValues&&!ie(s,l)),isSubmitted:i.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:c?{}:i.keepDirtyValues?i.keepDefaultValues&&o?pe(l,o):r.dirtyFields:i.keepDefaultValues&&s?pe(l,s):i.keepDirty?r.dirtyFields:{},touchedFields:i.keepTouched?r.touchedFields:{},errors:i.keepErrors?r.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},it=(s,i)=>st(Q(s)?s(o):s,i);return{control:{register:Me,unregister:Re,getFieldState:Ze,handleSubmit:rt,setError:Ge,_executeSchema:le,_getWatch:F,_getDirty:x,_updateValid:J,_removeUnmounted:ke,_updateFieldArray:_,_updateDisabledField:et,_getFieldArray:C,_reset:st,_resetDefaultValues:()=>Q(t.defaultValues)&&t.defaultValues().then(s=>{it(s,t.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:s=>{r={...r,...s}},_disableForm:jt,_subjects:b,_proxyFormState:p,_setErrors:Z,get _fields(){return a},get _formValues(){return o},get _state(){return d},set _state(s){d=s},get _defaultValues(){return l},get _names(){return y},set _names(s){y=s},get _formState(){return r},set _formState(s){r=s},get _options(){return t},set _options(s){t={...t,...s}}},trigger:xe,register:Me,handleSubmit:rt,watch:Ot,setValue:N,getValues:Xe,reset:it,resetField:It,clearErrors:Lt,unregister:Re,setError:Ge,setFocus:(s,i={})=>{const n=h(a,s),f=n&&n._f;if(f){const c=f.refs?f.refs[0]:f.ref;c.focus&&(c.focus(),i.shouldSelect&&Q(c.select)&&c.select())}},getFieldState:Ze}}function kr(e={}){const t=q.useRef(void 0),r=q.useRef(void 0),[a,l]=q.useState({isDirty:!1,isValidating:!1,isLoading:Q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Vr(e),formState:a});const o=t.current.control;return o._options=e,hr({subject:o._subjects.state,next:d=>{fr(d,o._proxyFormState,o._updateFormState)&&l({...o._formState})}}),q.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),q.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==a.isDirty&&o._subjects.state.next({isDirty:d})}},[o,a.isDirty]),q.useEffect(()=>{e.values&&!ie(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,l(d=>({...d}))):o._resetDefaultValues()},[e.values,o]),q.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),q.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),q.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),t.current.formState=dr(a,o),t.current}const Dr=({onForgotPasswordClick:e})=>{var oe,P;const{enqueueSnackbar:t}=zt(),r=Ht(),a=Ft(),[l,o]=$.useState(!1),{register:d,handleSubmit:y,formState:{errors:V},setValue:j}=kr({defaultValues:{username:"",password:""}});$.useEffect(()=>{const A=localStorage.getItem("rememberedUsername");A&&(o(!0),j("username",A))},[j]);const{mutate:p,isPending:b}=ar({mutationFn:Qt,onSuccess:A=>{a.invalidateQueries({queryKey:["current-user"]}),localStorage.setItem("token",A==null?void 0:A.token),t("Welcome Back!",{variant:"success"}),r("/home")},onError:()=>{t("Login Failed",{variant:"error"})}}),ce=A=>{p(A)};return v.jsxs(Te,{sx:{width:"100%",maxWidth:500},children:[v.jsxs(Yt,{sx:{textAlign:"center"},children:[v.jsx("img",{src:"/images/lgo1.png",alt:"Buildtek Logo",width:"50px"}),v.jsx(Fe,{variant:"h5",fontWeight:"bold",children:"Smart Flow"}),v.jsx(Fe,{variant:"subtitle1",fontWeight:"bold",children:"Seamless Production, Smarter Management"}),v.jsx(Fe,{variant:"h6",fontWeight:"bold",mt:1,sx:{textAlign:"left"},children:"Sign In"})]}),v.jsxs("form",{onSubmit:y(ce),noValidate:!0,children:[v.jsx(Ke,{label:"Username",fullWidth:!0,variant:"outlined",margin:"normal",...d("username",{required:"Username is required",minLength:{value:3,message:"Username must be at least 3 characters"}}),error:!!V.username,helperText:(oe=V.username)==null?void 0:oe.message,sx:{mb:2},autoComplete:"username",autoFocus:!0}),v.jsx(Ke,{label:"Password",type:"password",fullWidth:!0,variant:"outlined",margin:"normal",...d("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),error:!!V.password,helperText:(P=V.password)==null?void 0:P.message,sx:{mb:2},autoComplete:"current-password"}),v.jsx(Jt,{control:v.jsx(Xt,{checked:l,onChange:A=>o(A.target.checked),color:"primary"}),label:"Remember me",sx:{mb:2}}),v.jsx(we,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,disabled:b,sx:{mb:2,height:48,fontSize:"1rem",fontWeight:"bold",textTransform:"none"},children:b?v.jsx(wt,{size:24,color:"inherit"}):"Sign In"}),v.jsxs(Te,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2},children:[v.jsx(we,{startIcon:v.jsx(nr,{}),onClick:e,sx:{textTransform:"none",color:"text.secondary"},children:"Forgot password?"}),v.jsx($t,{to:"/register",style:{textDecoration:"none"},children:v.jsx(we,{startIcon:v.jsx(Zt,{}),sx:{textTransform:"none",color:"primary.main"},children:"Create account"})})]})]})]})},Er=({open:e,handleClose:t})=>{const[r,a]=$.useState(""),[l]=$.useState(!1);return v.jsxs(Gt,{open:e,onClose:t,maxWidth:"sm",fullWidth:!0,children:[v.jsx(rr,{children:v.jsx(Fe,{variant:"h6",fontWeight:"bold",children:"Forgot Password"})}),v.jsxs(er,{children:[v.jsx(Fe,{variant:"body1",sx:{mb:2},children:"Enter your email address below, and we'll send you instructions to reset your password."}),v.jsx(Ke,{fullWidth:!0,label:"Email Address",variant:"outlined",value:r,onChange:o=>a(o.target.value),sx:{mb:2}})]}),v.jsxs(tr,{children:[v.jsx(we,{onClick:t,color:"secondary",children:"Cancel"}),v.jsx(we,{variant:"contained",color:"primary",disabled:l,startIcon:l?v.jsx(wt,{size:20}):null,children:l?"Sending...":"Send Instructions"})]})]})},Yr=()=>{const[e,t]=$.useState(!1);return v.jsxs(ut,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundImage:'url("/images/l1.png")',backgroundSize:"720px 1000px",backgroundPosition:"left",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},children:[v.jsxs(sr,{sx:{width:"100%",maxWidth:1e3,boxShadow:4,borderRadius:"30px",display:"flex"},children:[v.jsx(Te,{sx:{flex:1,backgroundImage:'url("/images/l1.png")',backgroundSize:"cover",backgroundPosition:"center",borderTopLeftRadius:"25px",borderBottomLeftRadius:"25px",margin:"12px",position:"relative"},children:v.jsx(Te,{sx:{position:"absolute",top:20,left:20,backgroundColor:"white",padding:"8px 16px",borderRadius:"10px",fontWeight:"bold"},children:"BUILDTECK"})}),v.jsx(ut,{sx:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",padding:4},children:v.jsx(Dr,{onForgotPasswordClick:()=>t(!0)})})]}),v.jsx(Er,{open:e,handleClose:()=>t(!1)})]})};export{Yr as default};
