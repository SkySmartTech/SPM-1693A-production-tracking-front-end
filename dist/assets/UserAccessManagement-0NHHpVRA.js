import{r as t,e as $,j as e,B as i,f as q,i as Y,k as J,T as d,D as k}from"./index-CLjSK6S6.js";import{a as h}from"./index-t--hEgTQ.js";import{F as K}from"./Footer-DiwPU8Fx.js";import{A as Q,I as u,M as X,B as Z,N as _,F as ee}from"./Notifications-gU08fzS7.js";import{M as y,B as l,A as oe}from"./AccountCircle-5jn0rp7x.js";import{M as n}from"./MenuItem-c_6Y_tlY.js";import{D as ne,a as te,b as re}from"./DialogContent-DE6g5QZV.js";import{D as se}from"./DialogTitle-B-auyknK.js";import{T as D}from"./TextField-BS6A6mKm.js";import{S as I}from"./Select-DWO1cG26.js";import{S as ie}from"./Save-jQ-q54Qq.js";import{D as le}from"./Delete-Bkl1pz_A.js";import{D as ae}from"./DataGrid-CXSAv4bg.js";import"./InputLabel-l34_Zl7i.js";import"./useFormControl-C3t4IaDR.js";import"./isMuiElement-DuhCa2c8.js";import"./ClickAwayListener-Dh7wAXjO.js";import"./styled-D5Wz6DMV.js";import"./InputAdornment-SUBugrxU.js";import"./FormControlLabel-DTVFhN_-.js";import"./SwitchBase-CgmHd4ul.js";import"./TableCell-CtEhFfNa.js";const Ie=()=>{const[x,a]=t.useState([]);t.useState("");const[O,v]=t.useState(!1),[B,m]=t.useState(!1),[C,A]=t.useState(!1),[r,c]=t.useState({id:"",name:"",role:"Admin"}),[b,w]=t.useState(null),[M,S]=t.useState(null),[N]=t.useState(3),f=$();t.useEffect(()=>{h.get("https://your-api.com/users").then(o=>{a(o.data)})},[]);const E=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},F=o=>{w(o.currentTarget)},p=()=>{w(null)},T=()=>{f("/userProfile"),p()},z=()=>{f("/login"),p()},R=o=>{S(o.currentTarget)},U=()=>{S(null)},W=()=>{f("/notifications"),U()},G=(o,s)=>{a(g=>g.map(j=>j.id===o?{...j,role:s}:j))},P=(o,s)=>{h.put(`https://your-api.com/users/${o}`,{role:s}).then(()=>{alert("User role updated!")})},H=o=>{h.delete(`https://your-api.com/users/${o}`).then(()=>{a(s=>s.filter(g=>g.id!==o))})},L=()=>{h.post("https://your-api.com/users",r).then(()=>{a([...x,r]),m(!1),c({id:"",name:"",role:"Admin"})})},V=[{field:"id",headerName:"ID",flex:1},{field:"name",headerName:"Name",flex:2},{field:"role",headerName:"User Role",flex:2,renderCell:o=>e.jsxs(I,{value:o.value,onChange:s=>G(o.row.id,s.target.value),fullWidth:!0,children:[e.jsx(n,{value:"Admin",children:"Admin"}),e.jsx(n,{value:"User",children:"User"}),e.jsx(n,{value:"Manager",children:"Manager"})]})},{field:"actions",headerName:"Actions",flex:2,renderCell:o=>e.jsxs(i,{display:"flex",gap:1,children:[e.jsx(l,{variant:"contained",color:"primary",size:"small",startIcon:e.jsx(ie,{}),onClick:()=>P(o.row.id,o.row.role),children:"Save"}),e.jsx(l,{variant:"contained",color:"error",size:"small",startIcon:e.jsx(le,{}),onClick:()=>H(o.row.id),children:"Remove"})]})}];return e.jsxs(i,{sx:{display:"full",width:"95vw",height:"100vh",minHeight:"100vh"},children:[e.jsx(q,{}),e.jsx(Y,{open:C||O,setOpen:A,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)}),e.jsxs(i,{sx:{flexGrow:1,bgcolor:"#f5f5f5",p:2},children:[e.jsx(Q,{position:"static",sx:{bgcolor:"white",boxShadow:2},children:e.jsxs(J,{children:[e.jsx(u,{edge:"start",color:"inherit",onClick:()=>A(!C),children:e.jsx(X,{sx:{color:"black"}})}),e.jsx(d,{variant:"h6",sx:{flexGrow:1,color:"black"},children:"User Management"}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(u,{onClick:R,children:e.jsx(Z,{badgeContent:N,color:"error",children:e.jsx(_,{})})}),e.jsxs(y,{anchorEl:M,open:!!M,onClose:U,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{"& .MuiPaper-root":{width:300,maxHeight:400}},children:[e.jsx(n,{disabled:!0,children:e.jsxs(d,{variant:"body2",children:["You have ",N," new notifications"]})}),e.jsx(k,{}),e.jsx(n,{children:e.jsx(d,{variant:"body2",children:"Notification 1"})}),e.jsx(n,{children:e.jsx(d,{variant:"body2",children:"Notification 2"})}),e.jsx(k,{}),e.jsx(n,{onClick:W,children:e.jsx(l,{fullWidth:!0,variant:"contained",size:"small",children:"View All Notifications"})})]}),e.jsx(u,{onClick:E,children:e.jsx(ee,{})}),e.jsx(u,{onClick:F,children:e.jsx(oe,{})}),e.jsxs(y,{anchorEl:b,open:!!b,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e.jsx(n,{onClick:T,children:"User Profile"}),e.jsx(n,{onClick:z,children:"Logout"})]})]})]})}),e.jsx(i,{sx:{height:500,bgcolor:"white",borderRadius:2,p:2,mt:2},children:e.jsx(ae,{rows:x,columns:V,pageSizeOptions:[5,10],disableRowSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{display:"flex",alignItems:"center"}}})}),e.jsxs(i,{sx:{p:2,bgcolor:"#e0e0e0",mt:1,textAlign:"center",fontWeight:"bold"},children:["Total users: ",x.length]}),e.jsxs(ne,{open:B,onClose:()=>m(!1),children:[e.jsx(se,{children:"Add New User"}),e.jsxs(te,{children:[e.jsx(D,{fullWidth:!0,margin:"dense",label:"User ID",variant:"outlined",value:r.id,onChange:o=>c({...r,id:o.target.value})}),e.jsx(D,{fullWidth:!0,margin:"dense",label:"Name",variant:"outlined",value:r.name,onChange:o=>c({...r,name:o.target.value})}),e.jsxs(I,{fullWidth:!0,value:r.role,onChange:o=>c({...r,role:o.target.value}),sx:{mt:2},children:[e.jsx(n,{value:"Admin",children:"Admin"}),e.jsx(n,{value:"User",children:"User"}),e.jsx(n,{value:"Manager",children:"Manager"})]})]}),e.jsxs(re,{children:[e.jsx(l,{onClick:()=>m(!1),color:"error",children:"Cancel"}),e.jsx(l,{onClick:L,color:"primary",children:"Add User"})]})]})]}),e.jsx(K,{})]})};export{Ie as default};
