import{c as $,j as e,r as t,e as q,B as i,f as Y,i as J,k as K,T as d,D as k}from"./index-bN0kxz6j.js";import{a as h}from"./index-t--hEgTQ.js";import{F as Q}from"./Footer-DXpUb05u.js";import{A as X,I as u,M as Z,B as _,N as ee,F as oe}from"./Notifications-bIT2NjpP.js";import{M as y,B as l,A as ne}from"./AccountCircle-OylfuR5v.js";import{M as n}from"./MenuItem-B8k7SO3N.js";import{D as te,a as se,b as re}from"./DialogContent-BEwB3i0W.js";import{D as ie}from"./DialogTitle-Bqa2VOqb.js";import{T as D}from"./TextField-CfAcrH5_.js";import{S as I}from"./Select-M646vS5P.js";import{D as le}from"./Delete-CtTY_amx.js";import{D as ae}from"./DataGrid-D1mR6gLR.js";import"./InputLabel-D7ke4Q6J.js";import"./useFormControl-BR_Ve65N.js";import"./isMuiElement-CbkzSqk0.js";import"./ClickAwayListener-DWHV8sfA.js";import"./styled-CCdDrl4n.js";import"./InputAdornment-9UJLPNRI.js";import"./FormControlLabel-BihKYMhP.js";import"./SwitchBase-Vl6GFcik.js";import"./KeyboardArrowRight-B2AQB8lB.js";import"./TableCell-DCUFSBmw.js";const ce=$(e.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),Oe=()=>{const[x,a]=t.useState([]);t.useState("");const[O,v]=t.useState(!1),[B,m]=t.useState(!1),[C,A]=t.useState(!1),[s,c]=t.useState({id:"",name:"",role:"Admin"}),[b,M]=t.useState(null),[S,w]=t.useState(null),[N]=t.useState(3),f=q();t.useEffect(()=>{h.get("https://your-api.com/users").then(o=>{a(o.data)})},[]);const E=()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},z=o=>{M(o.currentTarget)},p=()=>{M(null)},F=()=>{f("/userProfile"),p()},T=()=>{f("/login"),p()},R=o=>{w(o.currentTarget)},U=()=>{w(null)},W=()=>{f("/notifications"),U()},H=(o,r)=>{a(g=>g.map(j=>j.id===o?{...j,role:r}:j))},G=(o,r)=>{h.put(`https://your-api.com/users/${o}`,{role:r}).then(()=>{alert("User role updated!")})},P=o=>{h.delete(`https://your-api.com/users/${o}`).then(()=>{a(r=>r.filter(g=>g.id!==o))})},V=()=>{h.post("https://your-api.com/users",s).then(()=>{a([...x,s]),m(!1),c({id:"",name:"",role:"Admin"})})},L=[{field:"id",headerName:"ID",flex:1},{field:"name",headerName:"Name",flex:2},{field:"role",headerName:"User Role",flex:2,renderCell:o=>e.jsxs(I,{value:o.value,onChange:r=>H(o.row.id,r.target.value),fullWidth:!0,children:[e.jsx(n,{value:"Admin",children:"Admin"}),e.jsx(n,{value:"User",children:"User"}),e.jsx(n,{value:"Manager",children:"Manager"})]})},{field:"actions",headerName:"Actions",flex:2,renderCell:o=>e.jsxs(i,{display:"flex",gap:1,children:[e.jsx(l,{variant:"contained",color:"primary",size:"small",startIcon:e.jsx(ce,{}),onClick:()=>G(o.row.id,o.row.role),children:"Save"}),e.jsx(l,{variant:"contained",color:"error",size:"small",startIcon:e.jsx(le,{}),onClick:()=>P(o.row.id),children:"Remove"})]})}];return e.jsxs(i,{sx:{display:"full",width:"95vw",height:"100vh",minHeight:"100vh"},children:[e.jsx(Y,{}),e.jsx(J,{open:C||O,setOpen:A,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)}),e.jsxs(i,{sx:{flexGrow:1,bgcolor:"#f5f5f5",p:2},children:[e.jsx(X,{position:"static",sx:{bgcolor:"white",boxShadow:2},children:e.jsxs(K,{children:[e.jsx(u,{edge:"start",color:"inherit",onClick:()=>A(!C),children:e.jsx(Z,{sx:{color:"black"}})}),e.jsx(d,{variant:"h6",sx:{flexGrow:1,color:"black"},children:"User Management"}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(u,{onClick:R,children:e.jsx(_,{badgeContent:N,color:"error",children:e.jsx(ee,{})})}),e.jsxs(y,{anchorEl:S,open:!!S,onClose:U,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{"& .MuiPaper-root":{width:300,maxHeight:400}},children:[e.jsx(n,{disabled:!0,children:e.jsxs(d,{variant:"body2",children:["You have ",N," new notifications"]})}),e.jsx(k,{}),e.jsx(n,{children:e.jsx(d,{variant:"body2",children:"Notification 1"})}),e.jsx(n,{children:e.jsx(d,{variant:"body2",children:"Notification 2"})}),e.jsx(k,{}),e.jsx(n,{onClick:W,children:e.jsx(l,{fullWidth:!0,variant:"contained",size:"small",children:"View All Notifications"})})]}),e.jsx(u,{onClick:E,children:e.jsx(oe,{})}),e.jsx(u,{onClick:z,children:e.jsx(ne,{})}),e.jsxs(y,{anchorEl:b,open:!!b,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e.jsx(n,{onClick:F,children:"User Profile"}),e.jsx(n,{onClick:T,children:"Logout"})]})]})]})}),e.jsx(i,{sx:{height:500,bgcolor:"white",borderRadius:2,p:2,mt:2},children:e.jsx(ae,{rows:x,columns:L,pageSizeOptions:[5,10],disableRowSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{display:"flex",alignItems:"center"}}})}),e.jsxs(i,{sx:{p:2,bgcolor:"#e0e0e0",mt:1,textAlign:"center",fontWeight:"bold"},children:["Total users: ",x.length]}),e.jsxs(te,{open:B,onClose:()=>m(!1),children:[e.jsx(ie,{children:"Add New User"}),e.jsxs(se,{children:[e.jsx(D,{fullWidth:!0,margin:"dense",label:"User ID",variant:"outlined",value:s.id,onChange:o=>c({...s,id:o.target.value})}),e.jsx(D,{fullWidth:!0,margin:"dense",label:"Name",variant:"outlined",value:s.name,onChange:o=>c({...s,name:o.target.value})}),e.jsxs(I,{fullWidth:!0,value:s.role,onChange:o=>c({...s,role:o.target.value}),sx:{mt:2},children:[e.jsx(n,{value:"Admin",children:"Admin"}),e.jsx(n,{value:"User",children:"User"}),e.jsx(n,{value:"Manager",children:"Manager"})]})]}),e.jsxs(re,{children:[e.jsx(l,{onClick:()=>m(!1),color:"error",children:"Cancel"}),e.jsx(l,{onClick:V,color:"primary",children:"Add User"})]})]})]}),e.jsx(Q,{})]})};export{Oe as default};
