import{c as A,j as e,r as n,e as X,B as a,f as ee,i as te,k as oe,T as r,D as E,C as R,A as se,E as ne}from"./index-bN0kxz6j.js";import{a as k}from"./index-t--hEgTQ.js";import{F as ae}from"./Footer-DXpUb05u.js";import{A as re,I as g,M as ie,B as le,N as ce,F as de}from"./Notifications-bIT2NjpP.js";import{M as T,B as he,A as xe}from"./AccountCircle-OylfuR5v.js";import{M as c}from"./MenuItem-B8k7SO3N.js";import{C as ue}from"./Card-BU-1tUH2.js";import{G as l}from"./Grid-BEYSwUsX.js";import{F as pe,I as me}from"./InputLabel-D7ke4Q6J.js";import{S as fe}from"./Select-M646vS5P.js";import{D as ge}from"./Delete-CtTY_amx.js";import{S as je,A as be}from"./Snackbar-CAQaTgAn.js";import"./useFormControl-BR_Ve65N.js";import"./isMuiElement-CbkzSqk0.js";import"./ClickAwayListener-DWHV8sfA.js";const G=A(e.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m-2 14-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"}),"AssignmentTurnedIn"),H=A(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),U=A(e.jsx("path",{d:"m2.53 19.65 1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61m19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6M7.88 8.75c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-2 11c0 1.1.9 2 2 2h1.45l-3.45-8.34z"}),"Style"),j={buyer:"N/A",gg:"0",smv:"0",presentCarder:"0",successCount:0,defectCount:0,hourlyData:[0,0,0,0,0,0,0,0]},Ne=()=>{const[i,b]=n.useState(j),[d,V]=n.useState({teams:[],styles:[],colors:[],sizes:[],checkPoints:[]}),[m,h]=n.useState({data:!1,options:!0,submit:!1}),[P,I]=n.useState(!1),[W,z]=n.useState(!1),[B,D]=n.useState(null),[M,O]=n.useState(null),[N]=n.useState(3),v=X(),[x,F]=n.useState({teamNo:"",style:"",color:"",size:"",checkPoint:""}),[u,y]=n.useState({open:!1,message:"",severity:"success"}),C="http://localhost:8000/api";n.useEffect(()=>{(async()=>{try{const o=await k.get(`${C}/production-options`),s={teams:o.data.teams||[],styles:o.data.styles||[],colors:o.data.colors||[],sizes:o.data.sizes||[],checkPoints:o.data.checkPoints||[]};V(s),s.teams.length>0&&F({teamNo:s.teams[0],style:s.styles[0]||"",color:s.colors[0]||"",size:s.sizes[0]||"",checkPoint:s.checkPoints[0]||""})}catch(o){console.error("Error fetching dropdown options:",o),S("Failed to load dropdown options","error")}finally{h(o=>({...o,options:!1}))}})()},[]),n.useEffect(()=>{(async()=>{if(x.teamNo)try{h(s=>({...s,data:!0}));const o=await k.get(`${C}/production-data`,{params:x});b(o.data||j)}catch(o){console.error("Error fetching production data:",o),S("Failed to load production data","error"),b(j)}finally{h(o=>({...o,data:!1}))}})()},[x]);const Y=async t=>{const{name:o,value:s}=t.target,f={...x,[o]:s};F(f);try{h(Q=>({...Q,submit:!0}));const p=await k.get(`${C}/production-data`,{params:f});b(p.data||j)}catch(p){console.error("Error updating data with new filters",p),S("Failed to update data with new filters","error")}finally{h(p=>({...p,submit:!1}))}},S=(t,o)=>{y({open:!0,message:t,severity:o})},$=()=>{document.fullscreenElement?document.exitFullscreen().catch(t=>{console.error("Error attempting to exit fullscreen:",t)}):document.documentElement.requestFullscreen().catch(t=>{console.error("Error attempting to enable fullscreen:",t)})},_=t=>{D(t.currentTarget)},w=()=>{D(null)},q=()=>{v("/userProfile"),w()},K=()=>{v("/login"),w()},Z=t=>{O(t.currentTarget)},L=()=>{O(null)},J=()=>{v("/notifications"),L()};return e.jsxs(a,{sx:{display:"full",width:"95vw",height:"100vh",minHeight:"100vh",backgroundColor:"#f5f5f5"},children:[e.jsx(ee,{}),e.jsx(te,{open:P||W,setOpen:I,onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1)}),e.jsxs(a,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(re,{position:"static",sx:{bgcolor:"white",boxShadow:2},children:e.jsxs(oe,{children:[e.jsx(g,{edge:"start",color:"inherit",onClick:()=>I(!P),children:e.jsx(ie,{sx:{color:"black"}})}),e.jsx(r,{variant:"h6",sx:{flexGrow:1,color:"black"},children:"Production Update"}),e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(g,{onClick:Z,children:e.jsx(le,{badgeContent:N,color:"error",children:e.jsx(ce,{})})}),e.jsxs(T,{anchorEl:M,open:!!M,onClose:L,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{"& .MuiPaper-root":{width:300,maxHeight:400}},children:[e.jsx(c,{disabled:!0,children:e.jsxs(r,{variant:"body2",children:["You have ",N," new notifications"]})}),e.jsx(E,{}),e.jsx(c,{children:e.jsx(r,{variant:"body2",children:"Notification 1"})}),e.jsx(c,{children:e.jsx(r,{variant:"body2",children:"Notification 2"})}),e.jsx(E,{}),e.jsx(c,{onClick:J,children:e.jsx(he,{fullWidth:!0,variant:"contained",size:"small",children:"View All Notifications"})})]}),e.jsx(g,{onClick:$,children:e.jsx(de,{})}),e.jsx(g,{onClick:_,children:e.jsx(xe,{})}),e.jsxs(T,{anchorEl:B,open:!!B,onClose:w,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e.jsx(c,{onClick:q,children:"User Profile"}),e.jsx(c,{onClick:K,children:"Logout"})]})]})]})}),e.jsx(a,{sx:{p:3,flexGrow:1,overflow:"auto"},children:m.options?e.jsxs(a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:[e.jsx(R,{size:60}),e.jsx(r,{variant:"h6",sx:{ml:2},children:"Loading dropdown options..."})]}):e.jsxs(ue,{sx:{p:3,borderRadius:"12px",boxShadow:3},children:[e.jsx(l,{container:!0,spacing:3,sx:{mb:3},children:[{label:"BUYER",value:i.buyer,icon:e.jsx(H,{})},{label:"GG",value:i.gg,icon:e.jsx(U,{})},{label:"SMV",value:i.smv,icon:e.jsx(G,{})},{label:"PRESENT CARDER",value:i.presentCarder,icon:e.jsx(H,{})}].map((t,o)=>e.jsx(l,{item:!0,xs:12,sm:3,children:e.jsxs(a,{sx:{display:"flex",alignItems:"center",gap:2,marginBottom:4},children:[e.jsx(se,{sx:{bgcolor:"primary.main"},children:t.icon}),e.jsxs("div",{children:[e.jsx(r,{variant:"subtitle2",color:"textSecondary",children:t.label}),e.jsx(r,{variant:"h6",children:t.value})]})]})},o))}),e.jsx(l,{container:!0,spacing:2,sx:{mb:3},children:[{label:"TEAM NO",name:"teamNo",options:d.teams},{label:"STYLE",name:"style",options:d.styles},{label:"COLOR",name:"color",options:d.colors},{label:"SIZE",name:"size",options:d.sizes},{label:"CHECK POINT",name:"checkPoint",options:d.checkPoints}].map((t,o)=>e.jsx(l,{item:!0,xs:12,md:2.4,children:e.jsxs(pe,{fullWidth:!0,children:[e.jsx(me,{children:t.label}),e.jsx(fe,{name:t.name,value:x[t.name]||"",label:t.label,onChange:Y,IconComponent:ne,sx:{borderRadius:"8px",marginBottom:4},disabled:m.submit||m.data||t.options.length===0,children:t.options.map((s,f)=>e.jsx(c,{value:s,children:s},f))})]})},o))}),m.data?e.jsx(a,{sx:{display:"flex",justifyContent:"center",my:4},children:e.jsx(R,{size:40})}):e.jsx(l,{container:!0,spacing:2,sx:{mb:3},children:[{title:"Success",value:i.successCount,gradient:"linear-gradient(to right, #00BA57, #006931)",icon:e.jsx(G,{sx:{fontSize:40,opacity:.8}})},{title:"Success",value:i.successCount,gradient:"linear-gradient(to right, #FFD900, #DB5B00)",icon:e.jsx(U,{sx:{fontSize:40,opacity:.8}})},{title:"Defect",value:i.defectCount,gradient:"linear-gradient(to right, #EB0004, #960003)",icon:e.jsx(ge,{sx:{fontSize:40,opacity:.8}})}].map((t,o)=>e.jsx(l,{item:!0,xs:12,md:4,children:e.jsxs(a,{sx:{p:3,borderRadius:"12px",background:t.gradient,color:"white",boxShadow:3,height:120,width:300,display:"flex",marginBottom:5,flexDirection:"column",justifyContent:"space-between",position:"relative",transition:"transform 0.3s","&:hover":{transform:"scale(1.02)"}},children:[e.jsx(r,{variant:"subtitle1",sx:{fontWeight:"bold"},children:t.title}),e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(a,{sx:{position:"absolute",bottom:10,left:15},children:t.icon}),e.jsx(r,{variant:"h4",sx:{fontWeight:"bold",position:"absolute",bottom:10,right:15},children:t.value})]})]})},o))}),e.jsx(l,{container:!0,spacing:2,children:i.hourlyData.map((t,o)=>e.jsx(l,{item:!0,xs:12,sm:6,md:3,lg:1.5,children:e.jsxs(a,{sx:{p:2,textAlign:"center",borderRadius:"8px",boxShadow:3,bgcolor:"#78B3CE",transition:"transform 0.3s","&:hover":{transform:"translateY(-5px)"}},children:[e.jsxs(r,{variant:"subtitle2",color:"textSecondary",children:["HOUR: ",o+1]}),e.jsx(E,{sx:{my:1}}),e.jsx(r,{variant:"h5",children:t})]})},o))})]})}),e.jsx(ae,{})]}),e.jsx(je,{open:u.open,autoHideDuration:6e3,onClose:()=>y({...u,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:e.jsx(be,{onClose:()=>y({...u,open:!1}),severity:u.severity,sx:{width:"100%"},children:u.message})})]})};export{Ne as default};
