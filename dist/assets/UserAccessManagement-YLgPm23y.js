import{c as L,j as e,r as t,e as $,m as d,B as i,f as q,i as Y,k as J,T as h,D}from"./index-DbvNdllW.js";import{A as K,I as u,M as Q,B as X,N as Z,F as _}from"./Notifications-j6OMPz9m.js";import{M as N,B as l,A as ee}from"./AccountCircle-BqrC-WHa.js";import{M as o}from"./MenuItem-BE8l7ryc.js";import{D as ne,a as oe,b as te}from"./DialogContent-Zf1qvqUe.js";import{D as se}from"./DialogTitle-BT1E2PJj.js";import{T as k}from"./TextField-CsoWppMA.js";import{S as I}from"./Select-1bWPsc-P.js";import{D as re}from"./Delete-C8yZ2-gg.js";import{D as ie}from"./DataGrid-L6zcZlJN.js";import"./InputLabel-BJ-Hgfal.js";import"./useFormControl-DDGvswHg.js";import"./isMuiElement-qTM6GdlR.js";import"./ClickAwayListener-Ba4dolDx.js";import"./styled-Cs-gJYMi.js";import"./InputAdornment-COHC8bxC.js";import"./FormControlLabel-BtOoiiGH.js";import"./SwitchBase-Cr_0Qc_S.js";import"./KeyboardArrowRight-vsqFBlkf.js";import"./TableCell-wBWqAFyv.js";const le=L(e.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),De=()=>{const[x,a]=t.useState([]);t.useState("");const[O,v]=t.useState(!1),[B,m]=t.useState(!1),[C,A]=t.useState(!1),[s,c]=t.useState({id:"",name:"",role:"Admin"}),[b,M]=t.useState(null),[S,w]=t.useState(null),[U]=t.useState(3),p=$();t.useEffect(()=>{d.get("https://your-api.com/users").then(n=>{a(n.data)})},[]);const E=n=>{M(n.currentTarget)},f=()=>{M(null)},z=()=>{p("/userProfile"),f()},T=()=>{p("/login"),f()},R=n=>{w(n.currentTarget)},y=()=>{w(null)},W=()=>{p("/notifications"),y()},F=(n,r)=>{a(j=>j.map(g=>g.id===n?{...g,role:r}:g))},H=(n,r)=>{d.put(`https://your-api.com/users/${n}`,{role:r}).then(()=>{alert("User role updated!")})},G=n=>{d.delete(`https://your-api.com/users/${n}`).then(()=>{a(r=>r.filter(j=>j.id!==n))})},P=()=>{d.post("https://your-api.com/users",s).then(()=>{a([...x,s]),m(!1),c({id:"",name:"",role:"Admin"})})},V=[{field:"id",headerName:"ID",flex:1},{field:"role",headerName:"User Role",flex:2,renderCell:n=>e.jsxs(I,{value:n.value,onChange:r=>F(n.row.id,r.target.value),fullWidth:!0,children:[e.jsx(o,{value:"Admin",children:"Admin"}),e.jsx(o,{value:"User",children:"User"}),e.jsx(o,{value:"Manager",children:"Manager"})]})},{field:"actions",headerName:"Actions",flex:2,renderCell:n=>e.jsxs(i,{display:"flex",gap:1,children:[e.jsx(l,{variant:"contained",color:"primary",size:"small",startIcon:e.jsx(le,{}),onClick:()=>H(n.row.id,n.row.role),children:"Save"}),e.jsx(l,{variant:"contained",color:"error",size:"small",startIcon:e.jsx(re,{}),onClick:()=>G(n.row.id),children:"Remove"})]})}];return e.jsxs(i,{sx:{display:"flex",width:"100vw",height:"100vh",minHeight:"100vh"},children:[e.jsx(q,{}),e.jsx(Y,{open:C||O,setOpen:A,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)}),e.jsxs(i,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(K,{position:"static",sx:{bgcolor:"white",boxShadow:2},children:e.jsxs(J,{children:[e.jsx(u,{edge:"start",onClick:()=>A(!C),children:e.jsx(Q,{})}),e.jsx(h,{variant:"h6",sx:{flexGrow:1,color:"black"},children:"User Access Management"}),e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(u,{onClick:R,children:e.jsx(X,{badgeContent:U,color:"error",children:e.jsx(Z,{})})}),e.jsxs(N,{anchorEl:S,open:!!S,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{"& .MuiPaper-root":{width:300,maxHeight:400}},children:[e.jsx(o,{disabled:!0,children:e.jsxs(h,{variant:"body2",children:["You have ",U," new notifications"]})}),e.jsx(D,{}),e.jsx(o,{children:e.jsx(h,{variant:"body2",children:"Notification 1"})}),e.jsx(o,{children:e.jsx(h,{variant:"body2",children:"Notification 2"})}),e.jsx(D,{}),e.jsx(o,{onClick:W,children:e.jsx(l,{fullWidth:!0,variant:"contained",size:"small",children:"View All Notifications"})})]}),e.jsx(u,{onClick:()=>document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen(),children:e.jsx(_,{})}),e.jsx(u,{onClick:E,children:e.jsx(ee,{})}),e.jsxs(N,{anchorEl:b,open:!!b,onClose:f,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[e.jsx(o,{onClick:z,children:"User Profile"}),e.jsx(o,{onClick:T,children:"Logout"})]})]})]})}),e.jsx(i,{sx:{height:500,bgcolor:"white",borderRadius:2,p:2,mt:2},children:e.jsx(ie,{rows:x,columns:V,pageSizeOptions:[5,10],disableRowSelectionOnClick:!0,sx:{"& .MuiDataGrid-cell":{display:"flex",alignItems:"center"}}})}),e.jsxs(i,{sx:{p:2,bgcolor:"#e0e0e0",mt:1,textAlign:"center",fontWeight:"bold"},children:["Total users: ",x.length]}),e.jsxs(ne,{open:B,onClose:()=>m(!1),children:[e.jsx(se,{children:"Add New User"}),e.jsxs(oe,{children:[e.jsx(k,{fullWidth:!0,margin:"dense",label:"User ID",variant:"outlined",value:s.id,onChange:n=>c({...s,id:n.target.value})}),e.jsx(k,{fullWidth:!0,margin:"dense",label:"Name",variant:"outlined",value:s.name,onChange:n=>c({...s,name:n.target.value})}),e.jsxs(I,{fullWidth:!0,value:s.role,onChange:n=>c({...s,role:n.target.value}),sx:{mt:2},children:[e.jsx(o,{value:"Admin",children:"Admin"}),e.jsx(o,{value:"User",children:"User"}),e.jsx(o,{value:"Manager",children:"Manager"})]})]}),e.jsxs(te,{children:[e.jsx(l,{onClick:()=>m(!1),color:"error",children:"Cancel"}),e.jsx(l,{onClick:P,color:"primary",children:"Add User"})]})]})]})]})};export{De as default};
